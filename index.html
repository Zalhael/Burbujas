
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Nube de √çconos ‚Äî Burbujas fluidas (fondo blanco)</title>
<style>
  :root {
    --bg: #ffffff;
    --ink: #0b1220;
  }
  * { box-sizing: border-box; }
  html, body { height: 100%; }
  body {
    margin: 0;
    background: var(--bg);
    color: var(--ink);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
    overflow: hidden;
  }
  header {
    height:56px;
    display:flex; align-items:center; justify-content:space-between;
    padding:0 14px;
    border-bottom: 1px solid #e6e6e6;
    background: #fff;
    position: sticky; top:0; z-index:10;
  }
  .controls button {
    background:#fff; border:1px solid #d0d5dd; color:#111827;
    padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:600;
  }
  .controls button:hover { border-color:#98a2b3; }

  .stage { position: fixed; inset: 56px 0 0 0; overflow: hidden; }
  .cloud { position: absolute; inset: 0; }

  .item {
    --size: 120px;
    width: var(--size); height: var(--size);
    position: absolute;
    border-radius: 999px;
    display: grid; place-items: center;
    background: radial-gradient(140% 140% at 30% 20%, rgba(0,0,0,.02), rgba(0,0,0,0));
    box-shadow: 0 12px 24px rgba(0,0,0,.10), inset 0 0 0 1px rgba(0,0,0,.06);
    transition: transform .06s ease;
    will-change: transform;
    user-select: none;
  }
  .item:hover { transform: scale(1.03); }

  .logo {
    width: 78%; height: 78%;
    object-fit: contain; /* evita recortes */
    pointer-events: none;
  }

  .count {
    position:absolute; bottom:-6px; right:-6px;
    background:#111827; color:#fff; border:1px solid rgba(0,0,0,.15);
    padding:4px 8px; border-radius:999px; font-size:12px; font-weight:800;
    box-shadow: 0 6px 16px rgba(0,0,0,.18);
  }
</style>
</head>
<body>
<header>
  <div>ü´ß Burbujas fluidas ‚Äî clic para votar</div>
  <div class="controls">
    <button id="pauseBtn">Pausar</button>
    <button id="resetBtn">Reiniciar</button>
  </div>
</header>

<main class="stage">
  <div class="cloud" id="cloud"></div>
</main>

<script>
  const logos = ["Calendar.png", "Canva.png", "Capcut.png", "Discord.png", "Facebook.png", "Instagram.png", "LinkedIn.png", "LinkTree.png", "Meet.png", "Phoshop.png", "Teams.png", "TikTok.png", "Trello.png", "WhatsApp.png", "Whatsapp-business.png", "Youtube.png", "Zoom.png"];
  const k = 18;               // factor de crecimiento por clic
  const SPEED_MIN = 18;       // px/s  -> lento
  const SPEED_MAX = 42;       // px/s
  let running = true;

  let state = { items: [] };

  function randSpeed() {
    const s = SPEED_MIN + Math.random()*(SPEED_MAX - SPEED_MIN);
    return (Math.random()<0.5 ? -s : s);
  }
  function sizeFor(item) {
    return Math.round((item.base||120) + k*Math.sqrt(item.count||0));
  }
  function ensureItems() {
    if(!state.items.length) {
      state.items = logos.map(file => ({ img:file, count:0, base:120 }));
    }
  }
  function placeItems() {
    const W = cloud.clientWidth;
    const H = cloud.clientHeight;
    state.items.forEach(it => {
      const s = sizeFor(it);
      if(typeof it.x !== 'number') it.x = Math.random()*(W - s);
      if(typeof it.y !== 'number') it.y = Math.random()*(H - s);
      if(typeof it.vx !== 'number') it.vx = randSpeed();
      if(typeof it.vy !== 'number') it.vy = randSpeed();
    });
  }
  function renderItems() {
    cloud.innerHTML = '';
    state.items.forEach((item, idx) => {
      const el = document.createElement('div');
      el.className = 'item';
      el.dataset.index = idx;

      const img = document.createElement('img');
      img.className = 'logo';
      img.src = item.img;
      img.alt = '';
      el.appendChild(img);

      const count = document.createElement('div');
      count.className = 'count';
      count.textContent = item.count||0;
      el.appendChild(count);

      el.addEventListener('click', () => {
        item.count++;
        count.textContent = item.count;
        el.style.setProperty('--size', sizeFor(item)+'px');
      });

      cloud.appendChild(el);
    });
  }
  function layoutAll() {
    const W = cloud.clientWidth;
    const H = cloud.clientHeight;
    state.items.forEach((item, idx) => {
      const el = cloud.children[idx];
      const s = sizeFor(item);
      el.style.setProperty('--size', s+'px');
      item.x = Math.max(0, Math.min(W - s, item.x));
      item.y = Math.max(0, Math.min(H - s, item.y));
      el.style.transform = `translate(${item.x}px, ${item.y}px)`;
    });
  }
  function step(dt) {
    const W = cloud.clientWidth;
    const H = cloud.clientHeight;
    state.items.forEach((item, idx) => {
      const s = sizeFor(item);
      let x = item.x + item.vx*dt;
      let y = item.y + item.vy*dt;

      if (x <= 0 || x + s >= W) item.vx *= -1;
      if (y <= 0 || y + s >= H) item.vy *= -1;

      item.x = Math.max(0, Math.min(W - s, x));
      item.y = Math.max(0, Math.min(H - s, y));

      const el = cloud.children[idx];
      if (el) el.style.transform = `translate(${item.x}px, ${item.y}px)`;
    });
  }

  const cloud = document.getElementById('cloud');
  ensureItems();
  renderItems();
  placeItems();
  layoutAll();

  let last = performance.now();
  function loop(now) {
    const dt = (now - last)/1000;
    last = now;
    if (running) step(dt);
    requestAnimationFrame(loop);
  }
  requestAnimationFrame(loop);

  document.getElementById('pauseBtn').addEventListener('click', (e) => {
    running = !running;
    e.target.textContent = running ? 'Pausar' : 'Reanudar';
  });
  document.getElementById('resetBtn').addEventListener('click', () => {
    state.items.forEach(i => i.count = 0);
    renderItems();
    placeItems();
    layoutAll();
  });
  window.addEventListener('resize', layoutAll);
</script>
</body>
</html>
